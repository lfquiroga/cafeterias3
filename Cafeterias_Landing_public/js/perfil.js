window.addEventListener("DOMContentLoaded",function(){    let div_personal_form = $s('#personal_form');    let div_sugerir_form = $s('#sugerir_form');    let session_val_r = $s('#session_val_r');    let session_val = $s('#session_val_id');    let data = session_val_r.value;    let dataE = session_val.value;      var dataUnParsed = {        user_data:true,        id: dataE      };      let data_send = JSON.stringify(dataUnParsed);      ajax({        method: 'POST',        url: '../../Cafeterias_Landing_API/perfil-router.php',        data: data_send,        successCallback: function (rta) {            let datos = JSON.parse(rta).data[0];            $('#nombre').val(datos.nombre);            $('#apellido').val(datos.apellido);            $('#email').val(datos.email);            let apellido = '';            if(datos.apellido != null)            {             apellido = datos.apellido;            }            $('#nombre_ficha').html('<b>'+datos.nombre+' '+apellido+'<b>');            $('#fecha_registro').html('Fecha: <b>'+datos.fecha_registro+'<b>');      }      });    let sugerir_cafeteria_btn = $s('#sugerir_cafeteria');    sugerir_cafeteria_btn.addEventListener('click',function(){        div_personal_form.style.visibility = 'hidden';        div_personal_form.style.height = '0';        div_sugerir_form.style.visibility = 'visible';        let btn_sugerir = $s('#sugerirCafeteria');        let input_nombre = $s('#nombre_cafeteria');        let input_direccion = $s('#direccion_cafeteria');        let input_email = $s('#email_cafeteria');        let input_sucursal = $s('#sucursal_cafeteria');        let input_horario_apertura = $s('#horario_apertura');        let input_horario_cierre = $s('#horario_cierre');        let input_sitio_web = $s('#sitio_web');        let input_telefono = $s('#telefono');        let msg_err = $s('#msg_er');        btn_sugerir.addEventListener('click',function(e){            e.preventDefault();            if(input_direccion.value != '' && input_email.value != '' && input_nombre != '' && input_sucursal != '' && input_horario_apertura != '' && input_horario_cierre != '' && input_sitio_web != '' && input_telefono != '')            {                if(msg_err.innerHTML != '')                {                    msg_err.innerHTML = '';                }                var sucursalV = input_sucursal.value.toUpperCase();                let data_sugerir =                {                    nombre: input_nombre.value,                    direccion: input_direccion.value,                    email: input_email.value,                    sucursal: sucursalV,                    horarioApertura: input_horario_apertura.value+':00:00',                    horarioCierre: input_horario_cierre.value+':00:00',                    sitioWeb: input_sitio_web.value,                    telefono: input_telefono.value                };                ajax({                    method: 'POST',                    url: '../../Cafeterias_Landing_API/sugerir-router.php',                    data: JSON.stringify(data_sugerir),                    successCallback: function (rta) {                        let divContainerModal = document.createElement("div");                            divContainerModal.className = "modalWrapper";                            let divModal = document.createElement("div");                            divModal.className = "modal";                            let textoInfo = document.createElement("p");                            textoInfo.innerHTML = "Gracias por interesarte! Tu sugerencia quedara en pendiente hasta que se apruebe.";                            let body = document.getElementsByTagName("body")[0];                            body.appendChild(divContainerModal);                            divContainerModal.appendChild(divModal);                            divModal.appendChild(textoInfo);                            input_nombre.value = "";                            input_direccion.value = "";                            input_email.value = "";                            input_sucursal.value = "";                            input_horario_apertura.value = '';                            input_horario_cierre.value = '';                            textoInfo.style.color = "#197328";                            divModal.style.transition = "all .35s";                            divModal.style.width = "35%";                            setTimeout(function() {                                divContainerModal.innerHTML = "";                                body.removeChild(divContainerModal);                            }, 2000);                    }                });            }else            {                msg_err.style.color = 'red';                msg_err.style.fontWeight = 'bold';                msg_err.innerHTML = 'ups!, todos los datos deben completarse para poder sugerir una cafeteria.';            }        });    });  /*   *Funciones para editar un usuario   */    var nombre = $s('#nombre');  var prePath = '../../';    var apellido = $s('#apellido');  var email = $s('#email');    var pass = $s('#pass');  var pass2 = $s('#pass2');  var id_user = $s('#session_val_id');    editPerfil=$s('#editPerfil');    editPerfil.addEventListener("click", function (e) {    let accion = $s('#accion');    var dataUnParsed = {      nombre: nombre.value,      apellido: apellido.value,      email: email.value,      pass: pass.value,      pass2: pass2.value,      idusuario: id_user.value,      crud:'editarusuario'          };       let data_usuario = JSON.stringify(dataUnParsed);       ajax({      method: 'POST',      url: prePath + 'Cafeterias_Landing_API/crud-router.php',      data: data_usuario,      successCallback: function (rta) {       let errores_form = JSON.parse(rta);           if (errores_form.status == 0){                   if(typeof errores_form.errores.nombre !== 'undefined'){           $('#nom_error').append(errores_form.errores.nombre[0]);         }else{           $('#nom_error').html('');         }                  if(typeof errores_form.errores.apellido !== 'undefined'){           $('#ape_error').append(errores_form.errores.apellido[0]);         }else{           $('#ape_error').html('');         }                 if(typeof errores_form.errores.email !== 'undefined'){           $('#email_error').append(errores_form.errores.email[0]);         }else{           $('#email_error').html('');         }                  if(typeof errores_form.errores.pass !== 'undefined'){           $('#pass_error').append(errores_form.errores.pass[0]);         }else{           $('#pass_error').html('');         }                            }else{         let divContainerModal = document.createElement("div");            divContainerModal.className = "modalWrapper";            let divModal = document.createElement("div");            divModal.className = "modal";            let textoInfo = document.createElement("p");            textoInfo.innerHTML = "Usuario modificado";            let confirmarBorrar = document.createElement("a");            confirmarBorrar.href = "#";            confirmarBorrar.innerHTML = "Ok";            let body = document.getElementsByTagName("body")[0];            body.appendChild(divContainerModal);            divContainerModal.appendChild(divModal);            divModal.appendChild(textoInfo);            divModal.appendChild(confirmarBorrar);                                    confirmarBorrar.addEventListener("click",function(){                divContainerModal.innerHTML = "";                body.removeChild(divContainerModal);            });                  }      }    })  });  });